(()=>{var e={};e.id=932,e.ids=[932],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4410:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>o,pages:()=>x,routeModule:()=>m,tree:()=>d}),t(6235),t(2029),t(5866);var a=t(3191),l=t(8716),r=t(7922),i=t.n(r),n=t(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["credits",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6235)),"C:\\projects\\survivingvid\\src\\app\\credits\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"C:\\projects\\survivingvid\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\projects\\survivingvid\\src\\app\\credits\\page.tsx"],o="/credits/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/credits/page",pathname:"/credits",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6790:(e,s,t)=>{Promise.resolve().then(t.bind(t,9369))},9369:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var a=t(326),l=t(7577),r=t(5081);let i=(0,l.createContext)(void 0),n=()=>{let e=(0,l.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};var c=t(9752),d=t(1664),x=t(8443),o=t(7525),h=t(5874),m=t(1723),p=t(7470),j=t(6456),u=t(1424),y=t(8977),g=t(7926);let f=(0,g.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),v=(0,g.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var N=t(2372),b=t(3217);function w(){let{user:e,userProfile:s,loading:t}=n(),[i,g]=(0,l.useState)(null),[w,C]=(0,l.useState)([]),[Z,k]=(0,l.useState)(!0),[R,D]=(0,l.useState)(!1),S=async()=>{if(e)try{k(!0);let s=await fetch(`/api/credits/balance?userId=${e.uid}`),t=await s.json();t.success&&g(t.data);let a=await fetch(`/api/credits/history?userId=${e.uid}&limit=20`),l=await a.json();l.success&&C(l.data.transactions)}catch(e){console.error("크레딧 데이터 로드 오류:",e)}finally{k(!1)}},_=async()=>{D(!0),await S(),D(!1)},E=async()=>{if(e)try{let s=await fetch("/api/credits/daily-bonus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.uid})}),t=await s.json();t.success?(await _(),alert("일일 로그인 보너스를 받았습니다! (S-CRD +1)")):alert(t.error||"보너스 받기에 실패했습니다.")}catch(e){console.error("일일 보너스 오류:",e),alert("보너스 받기에 실패했습니다.")}};return t||Z?a.jsx(r.Z,{children:a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(r.Z,{children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"크레딧 관리"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"사용 가능한 크레딧을 확인하고 관리하세요"})]}),(0,a.jsxs)(d.z,{variant:"outline",onClick:_,disabled:R,className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:`w-4 h-4 ${R?"animate-spin":""}`}),"새로고침"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(c.Zb,{className:"relative overflow-hidden",children:[a.jsx(c.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(c.ll,{className:"text-lg font-medium text-gray-900",children:"무료 크레딧"}),a.jsx(m.Z,{className:"w-5 h-5 text-green-600"})]})}),(0,a.jsxs)(c.aY,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:i?.["S-CRD"]||0}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"S-CRD"}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"일일 보너스"}),a.jsx(x.C,{variant:"secondary",children:"+1"})]}),(0,a.jsxs)(d.z,{size:"sm",variant:"outline",onClick:E,className:"w-full",children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"일일 보너스 받기"]})]})]}),a.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-green-100 rounded-full -mr-10 -mt-10 opacity-50"})]}),(0,a.jsxs)(c.Zb,{className:"relative overflow-hidden",children:[a.jsx(c.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(c.ll,{className:"text-lg font-medium text-gray-900",children:"유료 크레딧"}),a.jsx(p.Z,{className:"w-5 h-5 text-purple-600"})]})}),(0,a.jsxs)(c.aY,{children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i?.["E-CRD"]||0}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"E-CRD"}),a.jsx("div",{className:"mt-4",children:a.jsx(d.z,{size:"sm",className:"w-full",asChild:!0,children:(0,a.jsxs)("a",{href:"/shop",children:[a.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"크레딧 구매하기"]})})})]}),a.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-purple-100 rounded-full -mr-10 -mt-10 opacity-50"})]}),(0,a.jsxs)(c.Zb,{className:"relative overflow-hidden",children:[a.jsx(c.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(c.ll,{className:"text-lg font-medium text-gray-900",children:"총 크레딧"}),a.jsx(j.Z,{className:"w-5 h-5 text-blue-600"})]})}),(0,a.jsxs)(c.aY,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:(i?.["S-CRD"]||0)+(i?.["E-CRD"]||0)}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"전체 크레딧"}),a.jsx("div",{className:"mt-4 space-y-1",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"구독 플랜"}),a.jsx(x.C,{variant:"outline",children:s?.subscription?.toString().toUpperCase()||"FREE"})]})})]}),a.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-blue-100 rounded-full -mr-10 -mt-10 opacity-50"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"w-5 h-5"}),"기능별 크레딧 비용"]}),a.jsx(c.SZ,{children:"각 기능 사용 시 필요한 크레딧입니다"})]}),a.jsx(c.aY,{children:a.jsx("div",{className:"space-y-3",children:[{action:"generate_script",cost:{"S-CRD":1,"E-CRD":0},description:"AI 스크립트 생성"},{action:"generate_images",cost:{"S-CRD":1,"E-CRD":0},description:"AI 이미지 생성 (1개당)"},{action:"render_video",cost:{"S-CRD":2,"E-CRD":0},description:"영상 렌더링"},{action:"download_youtube",cost:{"S-CRD":1,"E-CRD":0},description:"YouTube 영상 다운로드"},{action:"export_high_quality",cost:{"S-CRD":0,"E-CRD":1},description:"고품질 내보내기"}].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.description}),a.jsx("div",{className:"text-sm text-gray-600",children:e.action})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.cost["S-CRD"]>0&&(0,a.jsxs)(x.C,{variant:"secondary",children:["S-CRD ",e.cost["S-CRD"]]}),e.cost["E-CRD"]>0&&(0,a.jsxs)(x.C,{variant:"secondary",children:["E-CRD ",e.cost["E-CRD"]]})]})]},s))})})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[a.jsx(y.Z,{className:"w-5 h-5"}),"최근 사용 내역"]}),a.jsx(c.SZ,{children:"최근 크레딧 사용 및 충전 내역입니다"})]}),a.jsx(c.aY,{children:a.jsx(o.x,{className:"h-64",children:0===w.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(u.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"사용 내역이 없습니다"})]}):a.jsx("div",{className:"space-y-3",children:w.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0",children:[a.jsx("div",{className:`p-2 rounded-full ${"spend"===e.type?"bg-red-100 text-red-600":"earn"===e.type?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:"spend"===e.type?a.jsx(f,{className:"w-4 h-4"}):"earn"===e.type?a.jsx(v,{className:"w-4 h-4"}):a.jsx(m.Z,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.description}),a.jsx("div",{className:"text-sm text-gray-600",children:new Date(e.createdAt?.toDate?.()||e.createdAt).toLocaleString("ko-KR")})]}),(0,a.jsxs)("div",{className:`font-bold ${"spend"===e.type?"text-red-600":"text-green-600"}`,children:["spend"===e.type?"-":"+",e.amount]})]},e.id))})})})]})]}),(0,a.jsxs)(c.Zb,{children:[a.jsx(c.Ol,{children:(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[a.jsx(N.Z,{className:"w-5 h-5"}),"크레딧 안내"]})}),a.jsx(c.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(m.Z,{className:"w-4 h-4 text-green-600"}),"무료 크레딧 (S-CRD) 획득 방법"]}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(b.Z,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"신규 가입 시 10개 지급"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(b.Z,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"일일 로그인 보너스 1개"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(b.Z,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"친구 추천 시 5개 지급 (추가 예정)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(p.Z,{className:"w-4 h-4 text-purple-600"}),"유료 크레딧 (E-CRD) 구매"]}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(b.Z,{className:"w-4 h-4 text-purple-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"Shop 페이지에서 다양한 패키지 구매 가능"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(b.Z,{className:"w-4 h-4 text-purple-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"월간 구독 플랜 시 매달 지급"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(b.Z,{className:"w-4 h-4 text-purple-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"대용량 패키지 구매 시 추가 보너스"})]})]})]})]})})]})]})})}},7525:(e,s,t)=>{"use strict";t.d(s,{x:()=>n});var a=t(326),l=t(7577),r=t(6999),i=t(1223);let n=l.forwardRef(({className:e,children:s,...t},l)=>(0,a.jsxs)(r.fC,{ref:l,className:(0,i.cn)("relative overflow-hidden",e),...t,children:[a.jsx(r.l_,{className:"h-full w-full rounded-[inherit]",children:s}),a.jsx(c,{}),a.jsx(r.Ns,{})]}));n.displayName=r.fC.displayName;let c=l.forwardRef(({className:e,orientation:s="vertical",...t},l)=>a.jsx(r.gb,{ref:l,orientation:s,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:a.jsx(r.q4,{className:"relative flex-1 rounded-full bg-border"})}));c.displayName=r.gb.displayName},6235:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\projects\survivingvid\src\app\credits\page.tsx#default`)},2372:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3217:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},1424:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},1723:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]])},1045:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]])},5874:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6588:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7470:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},6456:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7926).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,349,3502,6999,9218],()=>t(4410));module.exports=a})();